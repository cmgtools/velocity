/**
 * Velocity - v1.0.0-alpha1 - 2019-03-31
 * Description: Velocity is a JavaScript library which provide utilities, ui components and MVC framework implementation.
 * License: GPL-3.0-or-later
 * Author: Bhagwat Singh Chouhan
 */


var cmt=cmt||{};if(cmt.utils=cmt.utils||{},cmt.utils.ajax={triggerPost:function(t,e,i){(void 0===i&&(i=!0),i&&null!=jQuery("meta[name=csrf-token]"))&&(e+="&"+jQuery("meta[name=csrf-param]").attr("content")+"="+jQuery("meta[name=csrf-token]").attr("content"));jQuery.post(t,e)}},cmt.utils.browser={isXhr:function(){return(new XMLHttpRequest).upload},isFileApi:function(){return window.File&&window.FileList&&window.FileReader},isFormData:function(){return!!window.FormData},isCanvas:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},isCanvasDataUrl:function(){return 0==document.createElement("canvas").toDataURL("image/png").indexOf("data:image/png")},isHistory:function(){return!(void 0===history.pushState)}},cmt.utils.data={serialiseElement:function(t,e){var i=[],n=null;void 0===e&&(e=!0),n="string"==typeof t?jQuery("#"+t).find(":input").get():t.find(":input").get(),jQuery.each(n,function(){if(this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))){var t=jQuery(this).val();i.push(encodeURIComponent(this.name)+"="+encodeURIComponent(t))}});var o=i.join("&").replace(/%20/g,"+");e&&null!=jQuery("meta[name=csrf-token]")&&(o+="&"+jQuery("meta[name=csrf-param]").attr("content")+"="+jQuery("meta[name=csrf-token]").attr("content"));return o},elementToJson:function(t,e){var i=[],n=null;return void 0===e&&(e=!0),n="string"==typeof t?jQuery("#"+t).find(":input").get():t.find(":input").get(),jQuery.each(n,function(){if(this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))){var t=jQuery(this).val();i.push({name:this.name,value:t})}}),cmt.utils.data.generateJsonMap(i,e)},serialiseForm:function(t,e){var i=null;(void 0===e&&(e=!0),i="string"==typeof t?jQuery("#"+t).serialize():t.serialize(),e&&null!=jQuery("meta[name=csrf-token]"))&&(i+="&"+jQuery("meta[name=csrf-param]").attr("content")+"="+jQuery("meta[name=csrf-token]").attr("content"));return i},formToJson:function(t,e){var i=null;return void 0===e&&(e=!0),i="string"==typeof t?jQuery("#"+t).serializeArray():t.serializeArray(),cmt.utils.data.generateJsonMap(i,e)},generateJsonMap:function(t,e){var o={};if(e&&null!=jQuery("meta[name=csrf-token]")){var i=jQuery("meta[name=csrf-param]").attr("content"),n=jQuery("meta[name=csrf-token]").attr("content");t.push({name:i,value:n})}return jQuery.map(t,function(t,e){if(-1<t.name.indexOf("[")){var i=o;_name=t.name.replace(/\]/gi,"").split("[");e=0;for(var n=_name.length;e<n;e++)e==n-1?i[_name[e]]?("string"==typeof i[_name[e]]&&(i[_name[e]]=[i[_name[e]]]),i[_name[e]].push(t.value)):i[_name[e]]=t.value||"":i=i[_name[e]]=i[_name[e]]||{}}else void 0!==o[t.name]?(o[t.name].push||(o[t.name]=[o[t.name]]),o[t.name].push(t.value||"")):o[t.name]=t.value||""}),o},appendCsrf:function(t){null!=jQuery("meta[name=csrf-token]")&&(t=t+"&"+jQuery("meta[name=csrf-param]").attr("content")+"="+jQuery("meta[name=csrf-token]").attr("content"));return t},getParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},updateUrlParam:function(t,e,i){var n,o,s="",r=jQuery("<a />").attr("href",t)[0],l=/\+/g,a=/([^&=]+)=?([^&]*)/g,c=function(t){return decodeURIComponent(t.replace(l," "))},d=r.search.substring(1);for(n={};o=a.exec(d);)n[c(o[1])]=c(o[2]);if(e||i){if(e&&!i)return n[e];n[e]=i;var p=[];for(var u in n)p.push(encodeURIComponent(u)+"="+encodeURIComponent(n[u]));return 0<p.length&&(s="?"+p.join("&")),r.origin+r.pathname+s}return n},removeParam:function(t,e){var i=t.split("?")[0],n=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){for(var s=(n=o.split("&")).length-1;0<=s;s-=1)n[s].split("=")[0]===e&&n.splice(s,1);i=i+"?"+n.join("&")}return"?"==i.slice(-1)&&(i=i.slice(0,-1)),i},updateUriParam:function(t,e,i){var n=new RegExp("([?&])"+e+"=.*?(&|$)","i"),o=-1!==t.indexOf("?")?"&":"?";return t.match(n)?t.replace(n,"$1"+e+"="+i+"$2"):t+o+e+"="+i},refreshGrid:function(){var t=window.location.href;t=cmt.utils.data.removeParam(t,"page"),t=cmt.utils.data.removeParam(t,"per-page"),window.location=t},hasAttribute:function(t,e){var i=t.attr(e);return void 0!==i&&!1!==i},bindEditor:function(t){var e=jQuery(t);if(jQuery.cleditor&&!e.parent().hasClass("cleditorMain")){e.cleditor({docType:"<!DOCTYPE html>",controls:"bold italic underline strikethrough subscript superscript | font size style | color highlight removeformat | bullets numbering | outdent indent | alignleft center alignright justify | undo redo | rule link unlink | source",height:165})}else e.parent().hasClass("cleditorMain")&&(e.hasClass("add")?e.val("").blur():e.val(e.val()).blur())}},Function.prototype.inherits=function(s){var r=0,l=this.prototype=new s;this.prototype.uber=function(t){var e,i,n=r,o=s.prototype;if(n){for(;n;)o=o.constructor.prototype,n-=1;e=o[t]}else(e=l[t])==this[t]&&(e=o[t]);return r+=1,i=e.apply(this,Array.prototype.slice.apply(arguments,[1])),r-=1,i}},"#_=_"==window.location.hash)if(history.replaceState){var cleanHref=window.location.href.split("#")[0];history.replaceState(null,null,cleanHref)}else window.location.hash="";function showPopup(t){var e=jQuery(t);e.hasClass("popup-modal")&&jQuery("body").css({overflow:"hidden",height:jQuery(window).height()}),e.fadeIn("slow")}function closePopup(t){jQuery(t).hasClass("popup-modal")&&jQuery("body").css({overflow:"",height:"","margin-right":""}),jQuery(t).fadeOut("fast")}function showErrorPopup(t){jQuery("#popup-error .popup-content").html(t),showPopup("#popup-error")}function hideErrorPopup(){closePopup("#popup-error")}function showMessagePopup(t){jQuery("#popup-message .popup-content").html(t),showPopup("#popup-message")}function hideMessagePopup(){closePopup("#popup-message")}Object.size=function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e},cmt.utils.image={arDimensions:function(t,e,i){var n=0,o=t.width,s=t.height;return e<o&&(s*=n=e/o,o*=n),i<s&&(o*=n=i/s),new Array(o,s)},drawAtCanvasCenter:function(t,e){if(null!=t&&null!=e){var i=t.width,n=t.height,o=t.getContext("2d"),s=new Image,r=window.URL||window.webkitURL,l=r.createObjectURL(e);s.src=l,s.onload=function(){var t=cmt.utils.image.arDimensions(s,i,n);o.translate(i/2,n/2),o.drawImage(s,-t[0]/2,-t[1]/2,t[0],t[1]),o.translate(-i/2,-n/2),r.revokeObjectURL(l)}}}},cmt.utils.object={strToObject:function(t){for(var e=t.split("."),i=window||this,n=0,o=e.length;n<o;n++)i=i[e[n]];var s=new i;if("object"!=typeof s)throw new Error(t+" not found");return s},hasProperty:function(t,e){var i=t.__proto__||t.constructor.prototype;return e in t&&(!(e in i)||i[e]!==t[e])}},cmt.utils.ui={alignMiddle:function(t,e){t=jQuery(t),e=jQuery(e);var i=t.height(),n=t.width(),o=e.height(),s=e.width();if(o<=i&&s<=n){var r=(i-o)/2,l=(n-s)/2;e.css({position:"absolute",top:r,left:l})}},initSelect:function(t){jQuery(t).cmtSelect({iconHtml:'<span class="cmti cmti-chevron-down"></span>'})},initSelectElement:function(t){t.cmtSelect({iconHtml:'<span class="cmti cmti-chevron-down"></span>'})},initActions:function(t){var e=jQuery(t);e.cmtActions(),e.find(".cmt-auto-hide").cmtAutoHide()},initActionsElement:function(t){t.cmtActions(),t.find(".cmt-auto-hide").cmtAutoHide()}},cmt.components=cmt.components||{},cmt.components.base=cmt.components.base||{},cmt.components.Root=function(t){this.components=[],this.activeComponents=[]},cmt.components.Root.prototype.mapComponent=function(t,e){null==this.components[t]&&(this.components[t]=e)},cmt.components.Root.prototype.getComponent=function(t,e,i){if(e=void 0!==e?e:{},null==this.components[t])throw"Component with alias "+t+" is not registered.";var n;if(i)return(n=cmt.utils.object.strToObject(this.components[t])).init(e),n;null==this.activeComponents[t]&&((n=cmt.utils.object.strToObject(this.components[t])).init(e),this.activeComponents[t]=n);return this.activeComponents[t]},cmt.components.Root.prototype.setComponent=function(t,e){null==this.activeComponents[t]&&(this.activeComponents[t]=e)},cmt.components.Root.prototype.registerComponent=function(t,e,i){return this.mapComponent(t,e),this.getComponent(t,i)},cmt.components.root=new cmt.components.Root,cmt.components.base.BaseComponent=function(t){},cmt.components.base.BaseComponent.prototype.init=function(t){},cmt.components.base.ActionsComponent=function(){this.counter=0,this.documentHeight=0,this.screenWidth=0,this.options=null},cmt.components.base.ActionsComponent.inherits(cmt.components.base.BaseComponent),cmt.components.base.ActionsComponent.prototype.defaults={listAlignment:"left"},cmt.components.base.ActionsComponent.prototype.init=function(t){this.documentHeight=jQuery(document).height(),this.screenWidth=jQuery(window).width(),this.options=jQuery.extend({},this.defaults,t)},cmt.components.base.ActionsComponent.prototype.initElements=function(t){var e=this;t.each(function(){var t=jQuery(this);e.initElement(t),e.counter++})},cmt.components.base.ActionsComponent.prototype.initElement=function(r){var t=this.counter,l=this.screenWidth,a=r.find(".actions-list-data"),c=this.options.listAlignment;r.find(".actions-list-title").attr("ldata-target","#actions-list-data-"+t),r.attr("ldata-id",t),a.attr("ldata-id",t),r.attr("id","actions-list-"+t),a.attr("id","actions-list-data-"+t),(a=a.detach()).appendTo("body"),cmt.utils.data.hasAttribute(a,"ldata-alignment")&&(c=a.attr("ldata-alignment")),r.find(".actions-list-title").click(function(){if(a.is(":hidden")){var t=r.offset(),e=c,i=t.top+r.height(),n=t.left,o=l-t.left-r.width(),s=a.width();"left"==c&&t.left+s+5>l?e="right":"right"==c&&t.left+s+5>r.width()&&(e="left"),"left"==e?a.css({top:i,left:n}):"right"==e&&a.css({top:i,right:o}),a.slideDown("slow")}else a.slideUp("slow")})},cmt.components.base.Collage=function(){this.limit=5,this.counter=0,this.config=[[{cr:{w:"f",h:"xl"}}],[{cl:{w:"h",h:"l"}},{cb:{w:"0",h:"l"}},{cl:{w:"h",h:"l"}}],[{cl:{w:"h",h:"xl"}},{cb:{w:"0",h:"xl"}},{cle:{w:"h",h:"xl",c:[{cr:{w:"f",h:"m"}},{cr:{w:"f",h:"m"}}]}}],[{cr:{w:"f",h:"xl"}},{cre:{w:"f",h:"l",c:[{cl:{w:"ot",h:"l"}},{cb:{w:"1",h:"l"}},{cl:{w:"ot",h:"l"}},{cb:{w:"1",h:"l"}},{cl:{w:"ot",h:"l"}}]}}],[{cre:{w:"f",h:"xl",c:[{cl:{w:"h",h:"xl"}},{cb:{w:"0",h:"xl"}},{cl:{w:"h",h:"xl"}}]}},{cre:{w:"f",h:"l",c:[{cl:{w:"ot",h:"l"}},{cb:{w:"0",h:"l"}},{cl:{w:"ot",h:"l"}},{cb:{w:"0",h:"l"}},{cl:{w:"ot",h:"l"}}]}}]]},cmt.components.base.Collage.prototype.generateView=function(t){var e=t.children(),i=this.config[e.length-1];return this.generateConfigView(i,e)},cmt.components.base.Collage.prototype.generateConfigView=function(t,e,i){for(var n=null!=i?'<div class="'+i+'">':'<div class="crl-wrap">',o=0;o<t.length;o++){var s=t[o],r=jQuery(e[this.counter]);cmt.utils.object.hasProperty(s,"cr")?(r.addClass("cr-wrap"),n+='<div class="cr cr-w-'+s.cr.w+" cr-h-"+s.cr.h+'">'+e[this.counter].outerHTML+"</div>",this.counter++):cmt.utils.object.hasProperty(s,"cl")?(r.addClass("cl-wrap"),n+='<div class="cl cl-w-'+s.cl.w+" cl-h-"+s.cl.h+'">'+e[this.counter].outerHTML+"</div>",this.counter++):cmt.utils.object.hasProperty(s,"cb")?n+='<div class="cb cb-w-'+s.cb.w+" cb-h-"+s.cb.h+'"></div>':cmt.utils.object.hasProperty(s,"cle")?(n+='<div class="cl cl-w-'+s.cle.w+" cl-h-"+s.cle.h+'">',cmt.utils.object.hasProperty(s.cle,"c")&&(n+=this.generateConfigView(s.cle.c,e,"cle-wrap")),n+="</div>"):cmt.utils.object.hasProperty(s,"cre")&&(n+='<div class="cr cr-w-'+s.cre.w+" cr-h-"+s.cre.h+'">',cmt.utils.object.hasProperty(s.cre,"c")&&(n+=this.generateConfigView(s.cre.c,e,"cre-wrap")),n+="</div>")}return n+"</div>"},cmt.components.base.GalleryComponent=function(){this.counter=1,this.idKey="cmt-gallery-",this.indexKey="gl-",this.galleries={},this.options=null},cmt.components.base.GalleryComponent.inherits(cmt.components.base.BaseComponent),cmt.components.base.GalleryComponent.prototype.defaults={onItemClick:null,collage:!1,collageLimit:5,collageConfig:null,lightbox:!1,lightboxBkg:!0,lightboxId:"lightbox-slider"},cmt.components.base.GalleryComponent.prototype.init=function(t){this.options=jQuery.extend({},this.defaults,t)},cmt.components.base.GalleryComponent.prototype.resetOptions=function(t){this.options=jQuery.extend({},this.defaults,t)},cmt.components.base.GalleryComponent.prototype.initGalleries=function(t){var i=this;t.each(function(){var t=jQuery(this),e=new cmt.components.base.Gallery(i,t);e.init(),t.attr("id",i.idKey+i.counter),t.attr("ldata-id",i.counter),i.galleries[i.indexKey+i.counter]=e,i.counter++})},cmt.components.base.GalleryComponent.prototype.normaliseGalleries=function(){var t=this.galleries;for(var e in t)t[e].normalise()},cmt.components.base.GalleryComponent.prototype.addItem=function(t,e){this.galleries[this.indexKey+t].addItem(e)},cmt.components.base.GalleryComponent.prototype.removeItem=function(t,e){this.galleries[this.indexKey+t].removeItem(e)},cmt.components.base.Gallery=function(t,e){this.component=t,this.options=t.options,this.element=e,this.width=0,this.height=0,this.itemWidth=0,this.itemsCount=0,this.itemsWrapper=null,this.items=null},cmt.components.base.Gallery.prototype.init=function(){this.initView(),this.normalise(),this.indexItems()},cmt.components.base.Gallery.prototype.initView=function(){var e=this,t=this.options,i=this.element.children();if(t.collage&&0<i.length&&i.length<=t.collageLimit){this.element.css("height","auto");var n=new cmt.components.base.Collage;n.limit=t.collageLimit,n.config=null!=t.collageConfig?t.collageConfig:n.config;var o=n.generateView(this.element);return this.element.html(o),this.items=this.element.find(".cl-wrap, .cr-wrap"),this.items.each(function(){var t=jQuery(this);e.resetItem(t)}),void this.indexItems()}i.each(function(){jQuery(this).addClass("gallery-item")}),i=this.element.find(".gallery-item").detach();this.element.html('<div class="gallery-items-wrap"><div class="gallery-items"></div></div>'),this.itemsWrapper=this.element.find(".gallery-items"),this.element.find(".gallery-items").append(i)},cmt.components.base.Gallery.prototype.normalise=function(){var e=this,t=this.element;this.width=t.width(),this.height=t.height(),this.items=t.find(".gallery-item"),this.itemWidth=this.items.outerWidth(),this.itemsCount=this.items.length,this.items.each(function(){var t=jQuery(this);t.css({width:e.itemWidth}),e.resetItem(t)})},cmt.components.base.Gallery.prototype.indexItems=function(){this.items.each(function(t){jQuery(this).attr("ldata-id",t)})},cmt.components.base.Gallery.prototype.addItem=function(t){this.items.each(function(){var t=jQuery(this),e=parseInt(t.attr("ldata-id"))+1;t.attr("ldata-id",e)});var e=this.itemsWrapper.find(".gallery-item[ldata-id=1]");0==e.length?(this.itemsWrapper.append(t),e=this.itemsWrapper.find(":first-child")[0],e=jQuery(e)):(this.itemsWrapper.find(".gallery-item[ldata-id=1]").before(t),e=e.prev()),e.attr("ldata-id",0),e.addClass("gallery-item"),this.normalise()},cmt.components.base.Gallery.prototype.removeItem=function(i){this.itemsWrapper.find(".gallery-item[ldata-id="+i+"]").remove(),this.items.each(function(){var t=jQuery(this),e=parseInt(t.attr("ldata-id"));i<e&&t.attr("ldata-id",e-1)}),this.normalise()},cmt.components.base.Gallery.prototype.resetItem=function(t){var e=this,i=this.options,n=this.element;null!==i.onItemClick&&(t.unbind("click"),t.click(function(){i.onItemClick(n,t,t.attr("ldata-id"))})),i.lightbox&&t.click(function(){e.showLightbox(t,t.attr("ldata-id"))})},cmt.components.base.Gallery.prototype.showLightbox=function(t,o){var s=this,e=this.element,i=this.options.lightboxId,r=jQuery("#"+i),n=jQuery(window).width(),l=jQuery(window).height(),a=r.find(".lightbox-data"),c=n/12,d=l/12;a.css({top:d/2,left:c/2,width:11*c,height:11*d}),s.options.lightboxBkg&&r.find(".lightbox-data-bkg").addClass("lightbox-bkg-wrap");var p='<div class="slider slider-basic slider-lightbox">';e.find(".gallery-item, .item, .cl-wrap, .cr-wrap").each(function(){var t=jQuery(this),e=t.attr("ldata-id"),i=t.attr("thumb-url"),n=t.attr("image-url");o==e?(p+='<div class="active"><div class="bkg-image" style="background-image: url('+i+');" image-url="'+n+'"></div></div>',s.options.lightboxBkg?r.find(".lightbox-data-bkg").css("background-image","url("+n+")"):r.find(".lightbox-data-bkg").html('<img src="'+n+'"/>')):p+='<div><div class="bkg-image" style="background-image: url('+i+');" image-url="'+n+'"></div></div>'}),p+="</div>",a.find(".wrap-gallery").html(p),r.hasClass("popup-modal")&&jQuery("body").css({overflow:"hidden",height:jQuery(window).height()}),r.fadeIn("slow"),a.find(".slider-lightbox").cmtSlider({lControlContent:'<i class="fa fa-2x fa-angle-left valign-center"></i>',rControlContent:'<i class="fa fa-2x fa-angle-right valign-center"></i>',circular:!1,onSlideClick:s.setLightboxBkg})},cmt.components.base.Gallery.prototype.setLightboxBkg=function(t,e,i){var n=e.find(".bkg-image").attr("image-url"),o=t.closest(".lightbox-slider-wrap").find(".lightbox-data-bkg");t.find(".slide").removeClass("active"),e.addClass("active"),o.hide(),o.hasClass("lightbox-bkg-wrap")?o.css("background-image","url("+n+")"):o.html('<img src="'+n+'"/>'),o.fadeIn("slow")},cmt.components.base.SliderComponent=function(){this.counter=1,this.idKey="cmt-slider-",this.indexKey="sl-",this.sliders={},this.options=null},cmt.components.base.SliderComponent.inherits(cmt.components.base.BaseComponent),cmt.components.base.SliderComponent.prototype.defaults={lControlContent:null,rControlContent:null,smallerContent:null,onSlideClick:null,preSlideChange:null,postSlideChange:null,circular:!0,autoScroll:!0,autoScrollType:"left",autoScrollDuration:5e3,stopOnHover:!0,collage:!1,collageLimit:5,collageConfig:null,lightbox:!1,lightboxBkg:!0,lightboxId:"lightbox-slider"},cmt.components.base.SliderComponent.prototype.init=function(t){this.options=jQuery.extend({},this.defaults,t)},cmt.components.base.SliderComponent.prototype.resetOptions=function(t){this.options=jQuery.extend({},this.defaults,t)},cmt.components.base.SliderComponent.prototype.initSliders=function(t){var i=this;t.each(function(){var t=jQuery(this),e=new cmt.components.base.Slider(i,t);e.init(),t.attr("id",i.idKey+i.counter),t.attr("ldata-id",i.counter),i.sliders[i.indexKey+i.counter]=e,i.counter++})},cmt.components.base.SliderComponent.prototype.normaliseSliders=function(){var t=this.sliders;for(var e in t)t[e].normalise()},cmt.components.base.SliderComponent.prototype.addSlide=function(t,e){this.sliders[this.indexKey+t].addSlide(e)},cmt.components.base.SliderComponent.prototype.removeSlide=function(t,e){this.sliders[this.indexKey+t].removeSlide(e)},cmt.components.base.Slider=function(t,e){this.component=t,this.options=t.options,this.element=e,this.leftControl=null,this.rightControl=null,this.width=0,this.height=0,this.slideWidth=0,this.slidesCount=0,this.filmstrip=null,this.slides=null},cmt.components.base.Slider.prototype.init=function(){var t=this.options;this.initView(),this.normalise(),this.indexSlides(),t.autoScroll&&this.startAutoScroll()},cmt.components.base.Slider.prototype.initView=function(){var e=this,t=this.options,i=this.element.children();if(t.collage&&0<i.length&&i.length<=t.collageLimit){this.element.css("height","auto");var n=new cmt.components.base.Collage;n.limit=t.collageLimit,n.config=null!=t.collageConfig?t.collageConfig:n.config;var o=n.generateView(this.element);return this.element.html(o),this.slides=this.element.find(".cl-wrap, .cr-wrap"),this.slides.each(function(){var t=jQuery(this);e.resetSlide(t)}),void this.indexSlides()}i.each(function(){jQuery(this).addClass("slider-slide")}),i=this.element.find(".slider-slide").detach();this.element.html('<div class="slider-slides-wrap"><div class="slider-slides"></div></div><div class="slider-control slider-control-left"></div><div class="slider-control slider-control-right"></div>'),this.element.find(".slider-slides").append(i)},cmt.components.base.Slider.prototype.normalise=function(){var e=this,t=this.options,i=this.element;this.leftControl=i.find(".slider-control-left"),this.rightControl=i.find(".slider-control-right"),this.width=i.width(),this.height=i.height(),this.filmstrip=i.find(".slider-slides"),this.slides=i.find(".slider-slide"),this.slideWidth=this.slides.outerWidth(),this.slidesCount=this.slides.length,this.filmstrip.width(this.slideWidth*this.slidesCount);var n=0;this.slides.each(function(){var t=jQuery(this);t.css({width:e.slideWidth,left:n}),n+=e.slideWidth,e.resetSlide(t)}),this.filmstrip.width()<i.width()&&null!==t.smallerContent&&t.smallerContent(i,this.filmstrip),this.initControls()},cmt.components.base.Slider.prototype.indexSlides=function(){this.slides.each(function(t){jQuery(this).attr("ldata-id",t)})},cmt.components.base.Slider.prototype.initControls=function(){var t=this,e=this.options,i=this.element;if(this.filmstrip.width()<i.width())return this.leftControl.hide(),void this.rightControl.hide();this.leftControl.show(),this.rightControl.show();var n=e.lControlContent,o=e.rControlContent;this.leftControl.html(n),this.rightControl.html(o),e.circular||(this.leftControl.hide(),this.rightControl.show()),this.leftControl.unbind("click"),this.leftControl.click(function(){e.circular?t.showPrevSlide():t.moveToRight()}),this.rightControl.unbind("click"),this.rightControl.click(function(){e.circular?t.showNextSlide():t.moveToLeft()})},cmt.components.base.Slider.prototype.addSlide=function(t){this.slides.each(function(){var t=jQuery(this),e=parseInt(t.attr("ldata-id"))+1;t.attr("ldata-id",e)});var e=this.filmstrip.find(".slider-slide[ldata-id=1]");0==e.length?(this.filmstrip.append(t),e=this.filmstrip.find(":first-child")[0],e=jQuery(e)):(this.filmstrip.find(".slider-slide[ldata-id=1]").before(t),e=e.prev()),e.attr("ldata-id",0),e.addClass("slider-slide"),this.normalise()},cmt.components.base.Slider.prototype.removeSlide=function(i){this.filmstrip.find(".slider-slide[ldata-id="+i+"]").remove(),this.slides.each(function(){var t=jQuery(this),e=parseInt(t.attr("ldata-id"));i<e&&t.attr("ldata-id",e-1)}),this.normalise()},cmt.components.base.Slider.prototype.resetSlide=function(t){var e=this,i=this.options,n=this.element;null!==i.onSlideClick&&(t.unbind("click"),t.click(function(){i.onSlideClick(n,t,t.attr("ldata-id"))})),i.lightbox&&t.click(function(){e.showLightbox(t,t.attr("ldata-id"))})},cmt.components.base.Slider.prototype.resetSlides=function(){var t=this,e=0;this.slides=this.filmstrip.find(".slider-slide"),this.filmstrip.css({left:"0px",right:""}),this.slides.each(function(){jQuery(this).css({left:e+"px",right:""}),e+=t.slideWidth})},cmt.components.base.Slider.prototype.showNextSlide=function(){var e=this,t=this.options,i=this.element,n=this.slides.first();null!==t.preSlideChange&&t.preSlideChange(i,n,n.attr("ldata-id")),this.filmstrip.animate({left:-this.slideWidth},{duration:500,complete:function(){var t=e.slides.first();t.insertAfter(e.slides.eq(e.slides.length-1)),t.css("right",-e.slideWidth),e.resetSlides()}}),n=this.slides.first(),null!==t.postSlideChange&&t.postSlideChange(i,n,n.attr("ldata-id"))},cmt.components.base.Slider.prototype.showPrevSlide=function(){var e=this,t=this.options,i=this.element,n=this.slides.first();null!==t.preSlideChange&&t.preSlideChange(i,n,n.attr("ldata-id"));var o=this.slides.last();o.insertBefore(this.slides.eq(0)),o.css("left",-this.slideWidth),this.filmstrip.animate({left:this.slideWidth},{duration:500,complete:function(){var t=jQuery(this).parent();e.resetSlides(t)}}),n=this.slides.first(),null!==t.postSlideChange&&t.postSlideChange(i,n,n.attr("ldata-id"))},cmt.components.base.Slider.prototype.startAutoScroll=function(){var e=this,i=this.element,n=this.options;setInterval(function(){if("left"==n.autoScrollType){var t=i.attr("mouse-over");if(n.stopOnHover&&null!=t&&t)return;e.showNextSlide()}else if("right"==n.autoScrollType){t=i.attr("mouse-over");if(n.stopOnHover&&null!=t&&t)return;e.showPrevSlide(i)}},n.autoScrollDuration)},cmt.components.base.Slider.prototype.moveToLeft=function(){var t=this,e=this.element,i=this.slides.first().outerWidth(),n=e.outerWidth(),o=this.filmstrip.outerWidth(),s=this.filmstrip.position().left,r=i,l=s-r;n-r<o+l&&this.filmstrip.animate({left:l},{duration:500,complete:function(){t.filmstrip.outerWidth()+(t.filmstrip.position().left-r)<n-r&&t.rightControl.hide(),t.leftControl.is(":hidden")&&t.leftControl.fadeIn("fast")}})},cmt.components.base.Slider.prototype.moveToRight=function(){var t=this,e=this.filmstrip.position().left,i=this.slideWidth,n=e;n<-this.slideWidth/2?(n=e+i,this.filmstrip.animate({left:n},{duration:500,complete:function(){t.filmstrip.position().left>-t.slideWidth/2&&(t.leftControl.hide(),t.filmstrip.position({at:"left top"})),t.rightControl.is(":hidden")&&t.rightControl.fadeIn("fast")}})):(this.leftControl.hide(),this.filmstrip.position({at:"left top"}))},cmt.components.base.Slider.prototype.showLightbox=function(t,o){var s=this,e=this.element,i=this.options.lightboxId,r=jQuery("#"+i),n=jQuery(window).width(),l=jQuery(window).height(),a=r.find(".lightbox-data"),c=n/12,d=l/12;a.css({top:d/2,left:c/2,width:11*c,height:11*d}),s.options.lightboxBkg&&r.find(".lightbox-data-bkg").addClass("lightbox-bkg-wrap");var p='<div class="slider slider-basic slider-lightbox">';e.find(".slider-slide, .slide, .cl-wrap, .cr-wrap").each(function(){var t=jQuery(this),e=t.attr("ldata-id"),i=t.attr("thumb-url"),n=t.attr("image-url");o==e?(p+='<div class="active"><div class="bkg-image" style="background-image: url('+i+');" image-url="'+n+'"></div></div>',s.options.lightboxBkg?r.find(".lightbox-data-bkg").css("background-image","url("+n+")"):r.find(".lightbox-data-bkg").html('<img src="'+n+'"/>')):p+='<div><div class="bkg-image" style="background-image: url('+i+');" image-url="'+n+'"></div></div>'}),p+="</div>",a.find(".wrap-gallery").html(p),r.hasClass("popup-modal")&&jQuery("body").css({overflow:"hidden",height:jQuery(window).height()}),r.fadeIn("slow"),a.find(".slider-lightbox").cmtSlider({lControlContent:'<i class="fa fa-2x fa-angle-left valign-center"></i>',rControlContent:'<i class="fa fa-2x fa-angle-right valign-center"></i>',circular:!1,onSlideClick:s.setLightboxBkg})},cmt.components.base.Slider.prototype.setLightboxBkg=function(t,e,i){var n=e.find(".bkg-image").attr("image-url"),o=t.closest(".lightbox-slider-wrap").find(".lightbox-data-bkg");t.find(".slide").removeClass("active"),e.addClass("active"),o.hide(),o.hasClass("lightbox-bkg-wrap")?o.css("background-image","url("+n+")"):o.html('<img src="'+n+'"/>'),o.fadeIn("slow")},cmt.components.jquery=cmt.components.jquery||{},function(i){i.fn.cmtAccordian=function(t){var e=i.extend({},i.fn.cmtAccordian.defaults,t);return void this.each(function(){!function(n){var o=n.find(".accordian-trigger"),t=n.find(".accordian-view");t.hide(),e.showFirst&&(jQuery(t[0]).addClass("active"),jQuery(t[0]).slideDown("slow"));o.click(function(){var t=jQuery(this),e=t.next(".accordian-view"),i=n.find(".accordian-view.active");t.hasClass("active")?(t.removeClass("active"),i.removeClass("active"),i.slideUp("slow")):(i.slideUp("slow"),i.removeClass("active"),o.removeClass("active"),jQuery(this).addClass("active"),jQuery(e).addClass("active"),e.slideDown("slow"))})}(i(this))})},i.fn.cmtAccordian.defaults={showFirst:!1}}(jQuery),jQuery.fn.cmtActions=function(e){try{cmt.components.root.getComponent("actions").initElements(this)}catch(t){cmt.components.root.registerComponent("actions","cmt.components.base.ActionsComponent",e).initElements(this)}},function(e){e.fn.cmtAutoFill=function(t){e.extend({},e.fn.cmtAutoFill.defaults,t);return void this.each(function(){var t=e(this);t.find(".auto-fill-text").blur(function(){var t=jQuery(this).closest(".wrap-fill");t.find(".wrap-auto-list").slideUp(),t.find(".fill-clear").val("")})})},e.fn.cmtAutoFill.defaults={}}(jQuery),function(n){n.fn.cmtAutoHide=function(t){n.extend({},n.fn.cmtFormInfo.defaults,t);return void this.each(function(){var e,i,t=n(this);e=t,i=jQuery(e.attr("ldata-target")),jQuery(window).click(function(t){e.is(t.target)||0!==e.has(t.target).length||(jQuery(i).slideUp(),e.removeClass("active"))})})},n.fn.cmtAutoHide.defaults={animation:"slide"}}(jQuery),function(w){w.fn.cmtBlock=function(t){var g=w.extend({},w.fn.cmtBlock.defaults,t),e=this,v=w(window).height(),y=(w(window).width(),g.blocks),C=Object.keys(y);return e.each(function(){!function(t){var e=g.blockAttr;if(cmt.utils.data.hasAttribute(t,e)&&0<=w.inArray(t.attr(e),C)){var i=y[t.attr(e)],n=i.height,o=i.autoHeight,s=i.fullHeight,r=i.halfHeight,l=i.qtfHeight,a=i.heightAuto,c=i.heightAutoMobile,d=i.heightAutoMobileWidth,p=i.css;if(null!=n&&n&&t.css({height:n+"px"}),null!=a&&a&&(null!=o&&o?t.css({height:"auto"}):null!=n&&n?t.css({height:"auto","min-height":n+"px"}):null!=s&&s?t.css({height:"auto","min-height":v+"px"}):null!=r&&r?t.css({height:"auto","min-height":v/2+"px"}):null!=l&&l?t.css({height:"auto","min-height":.75*v+"px"}):t.css({height:"auto"})),null==n&&null==a&&null!=s&&s&&t.css({height:v+"px"}),null==n&&null==a&&null!=r&&r&&t.css({height:v/2+"px"}),null==n&&null==a&&null!=l&&l&&t.css({height:.75*v+"px"}),null!=c&&c&&window.innerWidth<=d)if(s){t.css({height:"auto","min-height":v+"px"});var u=t.children(".block-content-wrap");u.hasClass("valign-center")&&u.removeClass("valign-center")}else t.css({height:"auto"});var u=t.find(".block-content-wrap"),m=t.find(".block-content");if(void 0!==m&&m.height()>u.height()){var h=m.height()+100+"px",f=m.height()-u.height();u.height(h),h=t.height()+f+100+"px",t.height(h)}null!=p&&p&&t.css(p)}else g.autoHeight&&g.autoHeight&&t.css({height:"auto"}),g.fullHeight&&(g.heightAuto?t.css({height:"auto","min-height":v+"px"}):t.css({height:v+"px"})),g.halfHeight&&(g.heightAuto?t.css({height:"auto","min-height":v/2+"px"}):t.css({height:v/2+"px"})),g.qtfHeight&&(g.heightAuto?t.css({height:"auto","min-height":.75*v+"px"}):t.css({height:.75*v+"px"}))}(w(this))}),void(g.backgroundParallax&&w(window).scroll(function(){var d=w(window).height(),p=w(window).scrollTop(),u=p+d,m=p+d/2;e.each(function(t){var e=w(this),i=e.height(),n=e.offset().top,o=n+i,s=e.children(".block-bkg-parallax");if(null!=s&&0<s.length&&n<u&&p<o){s.width();var r=s.height(),l=r-.5*d,a=i<d?r-i:r-d,c=0+(l-0)*(m-(n-=a))/((o+=a)-n);s.css("background-position","50% "+c+"px")}})}))},w.fn.cmtBlock.defaults={blockAttr:"cmt-block",autoHeight:!0,fullHeight:!1,halfHeight:!1,qtfHeight:!1,heightAuto:!1,backgroundParallax:!0,blocks:{}}}(jQuery),function(e){e.fn.cmtCheckbox=function(t){e.extend({},e.fn.cmtCheckbox.defaults,t);return void this.each(function(){!function(t){if(t.is("[disabled]"))return;var e=t.find("input[type='checkbox']"),i=t.find("input[type='hidden']");1==i.val()&&(e.prop("checked",!0),e.val(1));e.change(function(){e.is(":checked")?(i.val(1),e.val(1)):(i.val(0),e.val(0))})}(e(this))})},e.fn.cmtCheckbox.defaults={}}(jQuery),function(e){e.fn.cmtFieldGroup=function(t){e.extend({},e.fn.cmtFieldGroup.defaults,t);return void this.each(function(){!function(t){var e=t.find("input[type='checkbox']"),i=t.find("input[type='radio']"),n=cmt.utils.data.hasAttribute(t,"data-reverse");if(0<e.length)e.prop("checked")?s(t,n):r(t,n),t.click(function(){e.prop("checked")?s(t,n):r(t,n)});else if(0<i.length){var o=parseInt(t.find("input[type='radio']:checked").val());1==o?s(t,n):0==o&&r(t,n),t.find("input[type='radio']").change(function(){1==(o=parseInt(t.find("input[type='radio']:checked").val()))?s(t,n):0==o&&r(t,n)})}}(e(this))});function s(t,e){var i=t.attr("group-target"),n=t.attr("group-alt");e?(jQuery("."+i).hide(),jQuery("."+n).show()):(jQuery("."+i).show(),jQuery("."+n).hide())}function r(t,e){var i=t.attr("group-target"),n=t.attr("group-alt");e?(jQuery("."+i).show(),jQuery("."+n).hide()):(jQuery("."+i).hide(),jQuery("."+n).show())}},e.fn.cmtFieldGroup.defaults={}}(jQuery),function(e){e.fn.cmtFileUploader=function(t){var p=e.extend({},e.fn.cmtFileUploader.defaults,t);return void this.each(function(){!function(e){var t=e.find(".btn-chooser");0<t.length&&((p.direct||e.hasClass("file-uploader-direct"))&&(e.addClass("file-uploader-direct"),t.hide(),p.toggle&&(e.find(".chooser-wrap").show(),e.find(".file-wrap").hide())),t.click(function(){p.toggle&&(e.find(".chooser-wrap").fadeToggle("slow"),e.find(".file-wrap").fadeToggle("fast")),e.find(".post-action").hide(),e.find(".file-chooser .input").val(""),u(e)}));e.hasClass("file-uploader-chooser")&&(e.find(".chooser-wrap").show(),e.find(".file-wrap").show(),e.find(".file-dragger").hide());if(cmt.utils.browser.isFileApi()){var i=e.find(".file-chooser .input");i.change(function(t){a(t,e)});var n=e.find(".file-dragger .drag-wrap");n.bind("dragover",function(t){l(t)}),n.bind("dragleave",function(t){l(t)}),n.bind("drop",function(t){a(t,e)})}else if(cmt.utils.browser.isFormData()){var o=e.attr("directory"),s=e.attr("type"),r=e.attr("gen"),i=e.find(".file-chooser .input");i.change(function(t){!function(i,n,o,s){var t=i.find(".file-preloader .file-preloader-bar"),e=i.find(".file-chooser .input").files[0],r=new FormData;fileName=e.name,t.html("Uploading file"),r.append("file",e);var l=fileUploadUrl+"?directory="+encodeURIComponent(n)+"&type="+encodeURIComponent(o)+"&gen="+encodeURIComponent(s);jQuery.ajax({type:"POST",url:l,data:r,cache:!1,contentType:!1,processData:!1,dataType:"json"}).done(function(t){if(progress.html("File uploaded"),1==t.result)p.uploadListener?p.uploadListener(i,n,o,s,t.data):m(i,n,o,s,t.data);else{var e=t.errors;alert(e.error)}u(i)})}(e,o,s,r)})}}(e(this))});function u(t){if(cmt.utils.browser.isCanvas()&&"image"==t.attr("type")){var e=t.find(".file-dragger canvas");if(0<e.length){var i=e[0];i.getContext("2d").clearRect(0,0,i.width,i.height)}}var n=t.find(".file-preloader .file-preloader-bar");cmt.utils.browser.isFileApi()?n.css("width","0%"):cmt.utils.browser.isFormData()&&n.html("")}function l(t){t.stopPropagation(),t.preventDefault(),t.target.className="dragover"==t.type?"dragger-hover":""}function a(t,e){var i=e.attr("directory"),n=e.attr("type"),o=e.attr("gen");l(t);var s=t.target.files||t.originalEvent.dataTransfer.files;if(p.preview&&cmt.utils.browser.isCanvas()&&"image"==n){var r=e.find(".file-dragger canvas");0<r.length&&(r.show(),cmt.utils.image.drawAtCanvasCenter(r[0],s[0]))}!function(n,o,s,r,t){var l=new XMLHttpRequest,e=t.type.toLowerCase(),i=jQuery.inArray(e,p.fileFormats),a=n.find(".file-preloader .file-preloader-bar"),c=new FormData;if(c.append("file",t),a.css("width","0%"),l.upload&&i){l.upload.onprogress=function(t){if(t.lengthComputable){var e=Math.round(100*t.loaded/t.total);a.css("width",e+"%")}},l.onreadystatechange=function(t){if(4==l.readyState&&200==l.status){var e=JSON.parse(l.responseText);if(1==e.result){var i=e.data;p.uploadListener?p.uploadListener(n,o,s,r,i):m(n,o,s,r,i)}else{var i=e.errors;alert(i.error)}u(n)}};var d=fileUploadUrl+"?directory="+encodeURIComponent(o)+"&type="+encodeURIComponent(s)+"&gen="+encodeURIComponent(r);l.open("POST",d,!0),l.send(c)}else alert("File format not allowed.")}(e,i,n,o,s[0])}function m(t,e,i,n,o){o.name,o.extension;switch(null!=i&&void 0!==i||(i=o.type),i){case"image":t.find(".file-data").html("<img src='"+o.tempUrl+"' class='fluid' />"),s(t,i,o);break;case"video":t.find(".file-data").html("<video src='"+o.tempUrl+"' controls class='fluid'>Video not supported.</video>"),s(t,i,o);break;case"document":case"mixed":case"compressed":case"shared":t.find(".file-data").html("<i class='"+p.docSuccessIcon+"'></i>"),s(t,i,o)}p.toggle&&(t.find(".chooser-wrap").fadeToggle("fast"),t.hasClass("file-uploader-chooser")||t.find(".file-wrap").fadeToggle("slow")),t.find(".file-clear").fadeIn(),t.find(".post-action").fadeIn()}function s(t,e,i){var n=t.find(".file-info"),o=t.find(".file-fields");n.find(".name").val(i.name),n.find(".type").val(e),n.find(".extension").val(i.extension),n.find(".change").val(1);var s=o.find(".title").val();null!=s&&0!=s.length||o.find(".title").val(i.title)}},e.fn.cmtFileUploader.defaults={fileFormats:["jpg","jpeg","png","gif","pdf","csv"],direct:!1,uploadListener:null,preview:!0,toggle:!0,docSuccessIcon:"cmti cmti-3x cmti-check"}}(jQuery),function(e){e.fn.cmtFormInfo=function(t){e.extend({},e.fn.cmtFormInfo.defaults,t);return void this.each(function(){var t=e(this);t.find(".box-trigger-form").click(function(){var t=jQuery(this).closest(".box-form"),e=t.find(".box-form-info-wrap"),i=t.find(".box-form-content-wrap");e.is(":visible")?(e.hide(),i.fadeIn("slow")):(e.fadeIn("fast"),i.hide())})})},e.fn.cmtFormInfo.defaults={}}(jQuery),function(i){var n=null,e={init:function(e){try{n.resetOptions(e),n.initGalleries(this)}catch(t){(n=cmt.components.root.registerComponent("gallery","cmt.components.base.GalleryComponent",e)).initGalleries(this)}null!=n&&i(window).resize(function(){n.normaliseGalleries()})},addItem:function(t){var e=parseInt(jQuery(this[0]).attr("ldata-id"));n.addItem(e,t)},removeItem:function(t){var e=parseInt(jQuery(this[0]).attr("ldata-id"));n.removeItem(e,t)}};i.fn.cmtGallery=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void i.error("CMT Gallery - method "+t+" does not exist."):e.init.apply(this,arguments)}}(jQuery),function(e){e.fn.cmtGrid=function(t){var n=e.extend({},e.fn.cmtGrid.defaults,t);return void this.each(function(){var s,t=e(this);(s=t).find(".grid-sort select").change(function(){var t=window.location.href,e=jQuery(this).val(),i=jQuery(this).find(":selected").attr("data-sort");t="select"===e?cmt.utils.data.removeParam(t,"sort"):cmt.utils.data.updateUrlParam(t,"sort",i),window.location=t}),s.find(".grid-filters select").change(function(){var t=window.location.href,e=jQuery(this).val(),n=jQuery(this).find(":selected"),o=n.attr("data-col"),s=jQuery(this).closest(".grid-filters").attr("data-cols");for(s=s.split(","),i=0;i<s.length;i++)t=cmt.utils.data.removeParam(t,s[i]);"select"!==e&&(t=cmt.utils.data.updateUrlParam(t,o,e)),window.location=t}),s.find(".trigger-report-toggle").click(function(){s.find(".grid-report-wrap").fadeToggle("slow"),jQuery(this).toggleClass("active")}),s.find(".trigger-report-generate").click(function(){var n=window.location.href,t=jQuery(this).closest(".grid-data"),e=t.find(".grid-report"),i=e.find(".report-field");i.each(function(t,e){var i=jQuery(this);n=cmt.utils.data.removeParam(n,i.attr("name")),0<i.val().length&&(n=cmt.utils.data.updateUrlParam(n,i.attr("name"),i.val()))}),n=cmt.utils.data.updateUrlParam(n,"report",1),window.location=n}),s.find(".trigger-report-clear").click(function(){var n=window.location.href,t=jQuery(this).closest(".grid-data"),e=t.find(".grid-report"),i=e.find(".report-field");i.each(function(t,e){var i=jQuery(this);i.val(""),n=cmt.utils.data.removeParam(n,i.attr("name"))}),n=cmt.utils.data.removeParam(n,"report"),window.location=n}),s.find(".grid-search-trigger").click(function(){var t=window.location.href,e=jQuery(this).closest(".grid-data"),i=e.find(".search-field input[name=keywords]").val(),n=e.find(".search-field select").val();0==i.length||"select"===n?(t=cmt.utils.data.removeParam(t,"keywords"),t=cmt.utils.data.removeParam(t,"search")):(t=cmt.utils.data.updateUrlParam(t,"search",n),t=cmt.utils.data.updateUrlParam(t,"keywords",i)),window.location=t}),s.find(".grid-search-input").bind("blur keyup",function(t){if("blur"==t.type||"13"==t.keyCode){var e=window.location.href,i=jQuery(this).val(),n=jQuery(this).attr("column");0==i.length?(e=cmt.utils.data.removeParam(e,"keywords"),e=cmt.utils.data.removeParam(e,"search")):(e=cmt.utils.data.updateUrlParam(e,"search",n),e=cmt.utils.data.updateUrlParam(e,"keywords",i)),window.location=e}}),s.find(".grid-bulk-all").change(function(){jQuery(this).is(":checked")?s.find(".grid-bulk-single").prop("checked",!0):s.find(".grid-bulk-single").prop("checked",!1)}),s.find(".grid-bulk-single").change(function(){var t=jQuery(this),e=t.attr("data-id"),i=".grid-bulk-single[data-id="+e+"]";jQuery(this).is(":checked")?s.find(i).prop("checked",!0):(s.find(i).prop("checked",!1),s.find(".grid-bulk-all").prop("checked",!1))}),s.find(".grid-bulk select").change(function(){var t=jQuery(this).find(":selected"),e=t.attr("data-col"),i=jQuery(this).attr("popup"),n=[],o=s.find(".grid-bulk-single:checked");"select"!==jQuery(this).val()&&(0<o.length?(jQuery("#"+i).find(".action").html(jQuery(this).find(":selected").text()),s.find(".grid-bulk-single:checked").each(function(t,e){var i=jQuery(this).attr("data-id");jQuery.inArray(i,n)<0&&n.push(i)}),jQuery("#"+i).find("input[name=action]").val(jQuery(this).val()),jQuery("#"+i).find("input[name=column]").val(e),jQuery("#"+i).find("input[name=target]").val(n.join(",")),showPopup("#"+i)):alert("Please select at least one row to apply this action."))}),s.find(".wrap-limits select").change(function(){var t=window.location.href,e=jQuery(this).val();"select"===e?(t=cmt.utils.data.removeParam(t,n.pageParam),t=cmt.utils.data.removeParam(t,n.pageLimitParam)):(t=cmt.utils.data.updateUrlParam(t,n.pageParam,1),t=cmt.utils.data.updateUrlParam(t,n.pageLimitParam,e)),window.location=t}),s.find(".trigger-layout-switch").click(function(){var t=jQuery(this),e=t.attr("layout"),i=window.location.href;switch(e){case"data":i=cmt.utils.data.updateUrlParam(i,n.layoutParam,"data");break;case"table":i=cmt.utils.data.updateUrlParam(i,n.layoutParam,"table");break;case"list":i=cmt.utils.data.updateUrlParam(i,n.layoutParam,"list");break;case"card":i=cmt.utils.data.updateUrlParam(i,n.layoutParam,"card")}window.location=i}),s.find(".actions .action-generic").click(function(){var t=parseInt(jQuery(this).attr("target")),e=jQuery(this).attr("popup");if(0<t){var i=jQuery("#"+e),n=i.find("form"),o=jQuery(this).is("[generic]"),s=jQuery(this).attr("action"),r=s.replace(/\s+/g,"-").toLowerCase(),l=o?n.attr("action")+t:n.attr("action")+"/"+r+"?id="+t;n.attr("action",l),n.find(".action-generic").html(s),n.find(".element-generic").val(s),n.find(".element-action").val(r),showPopup("#"+e)}else alert("Please select valid row.")}),s.find(".grid-title .action-add").click(function(){var t=jQuery(this).attr("popup");showPopup("#"+t)}),s.find(".actions .action-pop").click(function(){var t=parseInt(jQuery(this).attr("target")),e=jQuery(this).attr("popup");if(0<t){var i=jQuery("#"+e),n=i.find("form").attr("action")+t;i.find("form").attr("action",n),showPopup("#"+e)}else alert("Please select valid row.")})})},e.fn.cmtGrid.defaults={cardIcon:"cmti cmti-grid",listIcon:"cmti cmti-list",pageParam:"page",pageLimitParam:"per-page",layoutParam:"layout"}}(jQuery),function(i){i.fn.cmtHeader=function(t){var o=i.extend({},i.fn.cmtHeader.defaults,t),e=window.innerWidth;return void this.each(function(){var n,t=i(this);n=t,e>o.minWidth&&window.addEventListener("scroll",function(t){var e=window.pageYOffset||document.documentElement.scrollTop,i=o.scrollDistance;i<e?(n.addClass("header-small"),n.hasClass("hidden")&&n.slideDown("slow")):(n.hasClass("header-small")&&!n.hasClass("header-small-ignore")&&n.removeClass("header-small"),n.hasClass("hidden")&&n.slideUp("false"))})})},i.fn.cmtHeader.defaults={minWidth:1024,scrollDistance:300}}(jQuery),function(e){e.fn.cmtIconPicker=function(t){e.extend({},e.fn.cmtIconPicker.defaults,t);return void this.each(function(){var s,t=e(this);(s=t).find(".choose-icon").click(function(){var t=jQuery(this);t.hasClass("disabled")||s.find(".picker-icon-sets").slideToggle("slow")}),s.find(".picker-icon-sets .picker-icon-wrap").click(function(){var t=jQuery(this),e=s.find(".picker-icon-sets"),i=t.find(".picker-icon"),n="picker-icon "+i.attr("icon"),o=s.find(".choose-icon");(o=o.find(".picker-icon")).attr("class",n),s.find(".icon-field").val(i.attr("icon")),e.slideToggle("slow")})})},e.fn.cmtIconPicker.defaults={}}(jQuery),function(C){C.fn.latLongPicker=function(t){var h=C.extend({},C.fn.latLongPicker.defaults,t);return void this.each(function(){!function(t){if(window.google)(function(n){var t=C.extend(!0,{},h.mapOptions),e=n.find(".google-map").get(0),i=n.find(".latitude"),o=n.find(".longitude"),s=n.find(".zoom");0<i.length&&0<o.length&&(i=parseFloat(i.val()),o=parseFloat(o.val()),s=parseInt(s.val()),C.isNumeric(i)||C.isNumeric(o)||(i=h.latitude,o=h.longitude,n.find(".latitude").val(i),n.find(".longitude").val(o)),C.isNumeric(s)&&(t.zoom=s));null==t.mapTypeId&&(t.mapTypeId=google.maps.MapTypeId.ROADMAP);t.center=new google.maps.LatLng(i,o);var r=new google.maps.Map(e,t),l=(a=n,c=r,d=t,p=new google.maps.Marker({position:d.center,map:c,title:h.markerTitle,draggable:!0}),google.maps.event.addListener(p,"dragend",function(t){f(a,c,p.position)}),google.maps.event.addListener(c,"dblclick",function(t){g(a,c,t.latLng,p)}),google.maps.event.addListener(c,"click",function(t){g(a,c,t.latLng,p)}),google.maps.event.addListener(c,"zoom_changed",function(){v(a,c)}),p);var a,c,d,p;if(h.geocoder){var u=new google.maps.Geocoder;n.find(".search-box").change(function(){var t=C(this).val();u.geocode({address:t},function(t,e){if(e==google.maps.GeocoderStatus.OK){var i=t[0].geometry.location;y(n,r,i,l)}})})}if(h.places){var m=new google.maps.places.PlacesService(r);n.find(".search-box").change(function(){var t=C(this).val(),e={query:t};m.textSearch(e,function(t,e){if(e==google.maps.places.PlacesServiceStatus.OK){var i=t[0].geometry.location;y(n,r,i,l)}})})}n.find(".search-ll").change(function(){var t=C(this).val();t=t.split(",");var e=parseFloat(t[0]),i=parseFloat(t[1]);y(n,r,{lat:e,lng:i},l)})})(t)}(C(this))});function f(t,e,i){t.find(".latitude").val(i.lat),t.find(".longitude").val(i.lng),v(t,e)}function g(t,e,i,n){f(t,e,i),n.setPosition(i)}function v(t,e){t.find(".zoom").val(e.getZoom())}function y(t,e,i,n){f(t,e,i),e.setCenter(i),n.setPosition(i)}},C.fn.latLongPicker.defaults={map:null,latitude:0,longitude:0,markerTitle:"My Location",geocoder:!1,places:!0,mapOptions:{zoom:3,mapTypeId:null,mapTypeControl:!1,zoomControlOptions:!0,disableDoubleClickZoom:!0}}}(jQuery),function(s){s.fn.cmtLoginRegister=function(t){s.extend({},s.fn.cmtLoginRegister.defaults,t);return void this.each(function(){var t,e,i,n,o=s(this);e=(t=o).find(".box-login"),i=t.find(".box-signup"),n=t.find(".box-forgot"),t.find(".btn-login").click(function(t){t.preventDefault(),e.is(":visible")?e.slideUp("fast"):(i.slideUp("fast"),n.slideUp("fast"),e.slideDown("slow"))}),t.find(".btn-forgot").click(function(t){t.preventDefault(),n.is(":visible")?n.slideUp("fast"):(i.slideUp("fast"),e.slideUp("fast"),n.slideDown("slow"))}),t.find(".btn-signup").click(function(t){t.preventDefault(),i.is(":visible")?i.slideUp("fast"):(e.slideUp("fast"),n.slideUp("fast"),i.slideDown("slow"))})})},s.fn.cmtLoginRegister.defaults={}}(jQuery),function(e){e.fn.cmtCollapsibleMenu=function(t){e.extend({},e.fn.cmtCollapsibleMenu.defaults,t);return void this.each(function(){var t=e(this);t.find(".collapsible-tab.has-children").click(function(){var t=jQuery(this),e=t.children(".tab-content");t.hasClass("active")||(t.hasClass("expanded")?(t.removeClass("expanded"),e.slideUp("slow")):(t.addClass("expanded"),e.slideDown("slow")))})})},e.fn.cmtCollapsibleMenu.defaults={}}(jQuery),function(s){s.fn.cmtSlidingMenu=function(t){var o=s.extend({},s.fn.cmtSlidingMenu.defaults,t);return void this.each(function(){!function(e){if(o.mainMenu){var t=s(document).height(),i=s(window).width();e.css({top:"0px",left:"0px",height:t,width:i})}null!=o.showTrigger&&s(o.showTrigger).click(function(){e.fadeIn();var t=e.find(".vnav-slider");"left"==o.position?t.animate({left:0}):"right"==o.position&&t.animate({right:0})});null!=o.hideTrigger&&s(o.hideTrigger).click(function(){e.fadeOut();var t=e.find(".vnav-slider");"left"==o.position?t.animate({left:-t.width()}):"right"==o.position&&t.animate({right:-t.width()})});e.find(".btn-close").click(function(){e.fadeOut();var t=e.find(".vnav-slider");"left"==o.position?t.animate({left:-t.width()}):"right"==o.position&&t.animate({right:-t.width()})});var n=e.find(".popup-bkg-filler");0<n.length&&(n.css({top:"0px",left:"0px",height:t,width:i}),n.click(function(){e.fadeOut("fast")}))}(s(this))})},s.fn.cmtSlidingMenu.defaults={position:"left",showTrigger:null,hideTrigger:null,mainMenu:!1}}(jQuery),function(e){e.fn.cmtPopoutGroup=function(t){var o=e.extend({},e.fn.cmtPopoutGroup.defaults,t);return void this.each(function(){var i,n,t=e(this);(n=(i=t).find(".popout-trigger")).click(function(){n.removeClass("active"),jQuery(this).addClass("active");var t="#"+jQuery(this).attr("popout"),e=jQuery(t);if(e.is(":visible"))switch(jQuery(this).removeClass("active"),o.animation){case"down":e.slideUp()}else switch(i.find(".popout").hide(),o.animation){case"down":e.slideDown()}e.find(".popout-close").click(function(){var t=e.attr("popout");switch(i.find(".popout-trigger[popout="+t+"]").removeClass("active"),o.animation){case"down":e.slideUp()}})})})},e.fn.cmtPopoutGroup.defaults={animation:"down"}}(jQuery),function(e){e.fn.cmtPopup=function(t){var r=e.extend({},e.fn.cmtPopup.defaults,t),l=e(document).height(),a=e(window).height(),c=e(window).width();return void this.each(function(){!function(t){var e=t.children(".popup-data");if(e.children(".popup-close").click(function(){d(t)}),r.modal){t.appendTo("body");var i=t.find(".popup-screen"),n=t.find(".popup-screen-listener");t.hasClass("popup-modal")||(t.css({top:"0px",left:"0px",height:l,width:c}),0<i.length&&i.css({top:"0px",left:"0px",height:a,width:c}),0<n.length&&n.css({top:"0px",left:"0px",height:a,width:c})),0<n.length&&n.click(function(){d(t)}),t.show();var o=e.outerHeight(),s=e.outerWidth();t.hide(),o<=a?e.css({top:a/2-o/2}):e.css({top:10}),s<=c?e.css({left:c/2-s/2}):e.css({left:10,width:c-20})}}(e(this))});function d(t){t.fadeOut("slow"),r.modal&&jQuery("body").css({overflow:"",height:"","margin-right":""})}},e.fn.cmtPopup.defaults={modal:!0}}(jQuery),function(p){var e={init:function(t){var d=p.extend({},p.fn.cmtRate.defaults,t);this.each(function(){var i,e,n,o,s,r,l,a,c,t=p(this);t.data("cmtRateSettings",d),e=(i=t).find(".star").length,n=[],o=[],s=[],r=1==i.find(".star.selected").length?parseInt(i.find(".star.selected").attr("star")):0,l=i.hasClass("disabled"),a=i.hasClass("read-only"),c=i.data("cmtRateSettings"),i.find(".star").each(function(){var t=p(this),e=parseInt(t.attr("star"));0<r&&e<=r?(t.html('<i class="'+u(i,e,!0)+'"></i>'),t.css("color",c.filledColor)):r===e&&c.message?message.addClass("selected"):(t.html('<i class="'+u(i,e,!1)+'"></i>'),t.css("color",c.emptyColor)),l?0<r&&e<=r&&t.css("color",c.disabledColor):a?0<r&&e<=r&&t.css("color",c.readonlyColor):(n.push(t),o.push(t.children("i")),c.message&&s.push(i.find("span[star-message="+e+"]")))}),l||a||(i.find(".star").mouseover(function(){var t=parseInt(p(this).attr("star"));m(i,e,t,n,o,s,0)}),i.find(".star").mouseout(function(){m(i,e,r,n,o,s,1)}),i.find(".star").click(function(){var t=parseInt(p(this).attr("star"));r=t,i.find("input").val(jQuery(this).attr("star")),i.find(".star").removeClass("selected"),p(this).addClass("selected"),m(i,e,t,n,o,s,2)}))})},reset:function(){var n,t;t=(n=this).data("cmtRateSettings"),n.find(".star i").each(function(t,e){var i=jQuery(this);i.removeClass(u(n,t+1,!0)),i.addClass(u(n,t+1,!1))}),n.find(".star").css("color",t.emptyColor),n.find(".star-selected").val(0),n.find(".star-message").removeClass("selected")}};function u(t,e,i){var n=t.data("cmtRateSettings");return void 0===i&&(i=!1),e-=1,0<n.same.length?1==n.same.length?n.same[0]:n.same[e]:i?1==n.filled.length?n.filled[0]:n.filled[e]:1==n.empty.length?n.empty[0]:n.empty[e]}function m(t,e,i,n,o,s,r){var l=t.data("cmtRateSettings");l.message&&t.find(".star-message").removeClass("selected");for(var a=1;a<=e;a++){var c=n[a-1],d=o[a-1],p=s[a-1];if(a<=i){switch(r){case 0:c.css("color",l.hoverColor);break;case 1:case 2:c.css("color",l.filledColor)}d.removeClass(u(t,a,!1)),d.addClass(u(t,a,!0)),a==i&&l.message&&p.addClass("selected")}else c.css("color",l.emptyColor),d.removeClass(u(t,a,!0)),d.addClass(u(t,a,!1))}}p.fn.cmtRate=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void p.error("Method "+t+" does not exist in CmtRate Plugin."):e.init.apply(this,arguments)},p.fn.cmtRate.defaults={same:[],empty:["far fa-star"],filled:["fas fa-star"],emptyColor:"black",filledColor:"#A5D75A",hoverColor:"#EF9300",disabledColor:"#7F7F7F",readonlyColor:"#A5D75A",message:!0}}(jQuery),function(p){p.fn.cmtSelect=function(t){var d=p.extend({},p.fn.cmtSelect.defaults,t);return void this.each(function(){!function(t){var e=t.children("option:selected");t.wrap("<div></div>");var i=t.parent();if(d.copyId){var n=t.attr("id");null!=n&&0<n.length&&(t.attr("id",null),i.attr("id",n))}i.addClass("cmt-select-wrap"),null!=d.wrapperClass&&i.addClass(d.wrapperClass);var o='<span class="s-icon">';null!=d.iconClass&&(o='<span class="s-icon '+d.iconClass+'">');null!=d.iconHtml?o+=d.iconHtml+"</span>":o+="</span>";var s="<div class='cmt-select'><div class='cmt-selected'><span class='s-text'>"+e.html()+"</span>"+o+"</div><ul class='cmt-select-list'>";if(d.copyOptionClass){var e=t.find(":selected");if(1==e.length){var r=e.attr("class");s="<div class='cmt-select'><div class='cmt-selected'><span class='s-text "+r+"'>"+e.html()+"</span>"+o+"</div><ul class='cmt-select-list'>"}}t.find("option").each(function(t){if(d.copyOptionClass){var e=jQuery(this).attr("class");s+='<li class="'+e+'" data-value="'+jQuery(this).val()+'">'+jQuery(this).html()+"</li>"}else s+='<li data-value="'+jQuery(this).val()+'">'+jQuery(this).html()+"</li>"}),s+="</ul></div>",i.append(s);i.children(".cmt-select");var l=i.children(".cmt-select").children(".cmt-selected"),a=i.children(".cmt-select").children(".cmt-select-list");a.hide();var c=t.attr("disabled");"disabled"==c||c?l.addClass("disabled"):(l.click(function(t){var e=a.is(":visible");a.hide(),jQuery(document).unbind("keyup"),e||(a.show(),jQuery(document).on("keyup",function(t){var e=String.fromCharCode(t.keyCode);a.children("li").each(function(){var t=jQuery(this);if(t.html().substr(0,1).toUpperCase()==e)return a.animate({scrollTop:t.offset().top-a.offset().top+a.scrollTop()}),!1})})),t.stopPropagation()}),a.children("li").click(function(){var t=jQuery(this),e=t.parents().eq(1);e.children(".cmt-selected").children(".s-text").html(t.html()),e.parent().children("select").val(t.attr("data-value")).change(),a.hide(),jQuery(document).unbind("keyup")}),p(document).on("click",function(t){0===p(t.target).closest(a).length&&(a.hide(),jQuery(document).unbind("keyup"))}))}(p(this))})},p.fn.cmtSelect.defaults={multi:!1,copyId:!1,copyOptionClass:!1,wrapperClass:null,iconClass:null,iconHtml:null},p.fn.cmtSelect.resetSelect=function(t,e){var i=t.find("select");i.html(e);var n=i.children("option:selected"),o=t.find(".cmt-select-list"),s=t.find(".cmt-selected").children(".s-text"),r="";i.children("option").each(function(t){r+='<li data-value="'+jQuery(this).val()+'">'+jQuery(this).html()+"</li>"}),s.html(n.html()),o.html(r),o.children("li").click(function(){var t=jQuery(this);t.parents().eq(1);s.html(t.html()),i.val(t.attr("data-value")).change(),o.hide(),jQuery(document).unbind("keyup")})},p.fn.cmtSelect.setValue=function(t,e){var i=t.find("select");i.val(e);var n=i.children("option:selected");t.find(".cmt-selected").children(".s-text").html(n.html())}}(jQuery),function(r){r.fn.cmtMultiSelect=function(t){var s=r.extend({},r.fn.cmtSelect.defaults,t);return void this.each(function(){!function(t){var e='<span class="s-icon">';null!=s.iconClass&&(e='<span class="s-icon '+s.iconClass+'">');null!=s.iconHtml?e+=s.iconHtml+"</span>":e+="</span>";var i='<div class="cmt-selected"><span class="s-text">'+t.attr("title")+"</span>"+e+"</div>";t.prepend(i);var n=t.find(".cmt-select-list");n.hide();var o=t.attr("disabled");"disabled"==o||o?t.addClass("disabled"):(t.find(".cmt-selected").click(function(t){n.is(":visible")?n.slideUp():(n.slideDown("slow"),jQuery(document).on("keyup",function(t){var e=String.fromCharCode(t.keyCode);n.children("li").each(function(){var t=jQuery(this);if(t.html().substr(0,1).toUpperCase()==e)return n.animate({scrollTop:t.offset().top-n.offset().top+n.scrollTop()}),!1})})),t.stopPropagation()}),r(document).on("click",function(t){0===r(t.target).closest(n).length&&(n.slideUp(),jQuery(document).unbind("keyup"))}))}(r(this))})},r.fn.cmtSelect.defaults={wrapperClass:null,iconClass:null,iconHtml:null}}(jQuery),function(i){var n=null,e={init:function(e){try{n.resetOptions(e),n.initSliders(this)}catch(t){(n=cmt.components.root.registerComponent("slider","cmt.components.base.SliderComponent",e)).initSliders(this)}null!=n&&i(window).resize(function(){n.normaliseSliders()})},addSlide:function(t){var e=parseInt(jQuery(this[0]).attr("ldata-id"));n.addSlide(e,t)},removeSlide:function(t){var e=parseInt(jQuery(this[0]).attr("ldata-id"));n.removeSlide(e,t)}};i.fn.cmtSlider=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void i.error("CMT Slider - method "+t+" does not exist."):e.init.apply(this,arguments)}}(jQuery),function(n){n.fn.cmtSmoothScroll=function(t){n.extend({},n.fn.cmtSmoothScroll.defaults,t);return void this.each(function(){var t=n(this);t.on("click",function(t){var e=this.hash;if(null!=e&&0<e.length){t.preventDefault();var i=n(e);n("html, body").stop().animate({scrollTop:i.offset().top},900,"swing",function(){window.location.hash=e})}})})},n.fn.cmtSmoothScroll.defaults={}}(jQuery),function(s){s.fn.cmtTabs=function(t){s.extend({},s.fn.cmtTabs.defaults,t);return void this.each(function(){var t,e,i,n,o=s(this);e=(t=o).find(".tab-links-wrap").first().find(".tab-link"),i=t.find(".tab-content-wrap").first(),n=i.find(".tab-content-wrap .tab-content"),(i=i.find(".tab-content").not(n)).hide(),jQuery(e[0]).addClass("active"),jQuery(i[0]).addClass("active"),jQuery(i[0]).fadeIn("slow"),e.click(function(){var t=jQuery(this).attr("target");e.removeClass("active"),i.removeClass("active"),i.hide(),jQuery(this).addClass("active"),jQuery(t).addClass("active"),jQuery(t).fadeIn("slow")})})},s.fn.cmtTabs.defaults={}}(jQuery),function(p){p.fn.cmtTimePicker=function(t){var a=p.extend({},p.fn.cmtTimePicker.defaults,t);return jQuery("body").append('<div id="'+a.id+'" class="cmt-timepicker '+a.classes+'" style="z-index: 100;"></div>'),void this.each(function(){var t,e,i=p(this);t=i,e=p("#"+a.id),t.attr("autocomplete","off"),t.attr("readonly",!0),t.focusin(function(){c(e),function(t,e){t.append('<div class="cmt-timepicker-header row">\n\t\t\t\t\t\t\t\t<div class="colf colf2 row">\n\t\t\t\t\t\t\t\t\t<div class="cmt-timepicker-apm cmt-timepicker-am colf colf2 align align-center active">AM</div>\n\t\t\t\t\t\t\t\t\t<div class="cmt-timepicker-apm cmt-timepicker-pm colf colf2 align align-center">PM</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="cmt-timepicker-apm cmt-timepicker-mm colf colf2 align align-center">Minutes</div>\n\t\t\t\t\t\t\t</div>'),t.append('<div class="cmt-timepicker-content row">\n\t\t\t\t\t\t\t\t<div class="cmt-timepicker-hr-wrap colf colf2 row">\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-1 active">1</div><div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-2">2</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-3">3</div><div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-4">4</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-5">5</div><div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-6">6</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-7">7</div><div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-8">8</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-9">9</div><div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-10">10</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-11">11</div><div class="colf colf3 cmt-timepicker-hr cmt-timepicker-hr-12">12</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="cmt-timepicker-min-wrap colf colf2 row">\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-0 active">0</div><div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-5">5</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-10">10</div><div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-15">15</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-20">20</div><div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-25">25</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-30">30</div><div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-35">35</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-40">40</div><div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-45">45</div>\n\t\t\t\t\t\t\t\t\t<div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-50">50</div><div class="colf colf3 cmt-timepicker-min cmt-timepicker-min-55">55</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>'),t.append('<div class="cmt-timepicker-footer row">\n\t\t\t\t\t\t\t\t<div class="colf colf2 row">\n\t\t\t\t\t\t\t\t\t<input class="cmt-timepicker-time" type="text" readonly />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="colf colf2">\n\t\t\t\t\t\t\t\t\t<span class="cmt-timepicker-ok btn-icon"><i class="cmti cmti-approve"></i></span>\n\t\t\t\t\t\t\t\t\t<span class="cmt-timepicker-close btn-icon"><i class="cmti cmti-close"></i></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>');var i=e.offset(),n=i.top+e.outerHeight(),o=i.left;t.css({top:n+"px",left:o+"px"}),t.css({width:a.width,height:a.height});var s=e.val();if(0<s.length){var r=s.split(" "),l=r[0].split(":");t.find(".cmt-timepicker-hr").removeClass("active"),t.find(".cmt-timepicker-hr-"+l[0]).addClass("active"),t.find(".cmt-timepicker-min").removeClass("active"),t.find(".cmt-timepicker-min-"+l[1]).addClass("active"),t.find(".cmt-timepicker-apm").removeClass("active"),"AM"===r[1]?t.find(".cmt-timepicker-am").addClass("active"):t.find(".cmt-timepicker-pm").addClass("active")}d(t),t.find(".cmt-timepicker-am, .cmt-timepicker-pm").click(function(){t.find(".cmt-timepicker-apm").removeClass("active"),p(this).addClass("active"),d(t)}),t.find(".cmt-timepicker-hr").click(function(){t.find(".cmt-timepicker-hr").removeClass("active"),p(this).addClass("active"),d(t)}),t.find(".cmt-timepicker-min").click(function(){t.find(".cmt-timepicker-min").removeClass("active"),p(this).addClass("active"),d(t)}),t.find(".cmt-timepicker-ok").click(function(){e.val(t.find(".cmt-timepicker-time").val()),e.trigger("change"),c(t)}),t.find(".cmt-timepicker-close").click(function(){c(t)}),t.fadeIn("slow")}(e,t)})});function c(t){t.fadeOut("fast"),t.html("")}function d(t){var e=t.find(".cmt-timepicker-hr.active").html()+":"+t.find(".cmt-timepicker-min.active").html()+" "+t.find(".cmt-timepicker-apm.active").html();t.find(".cmt-timepicker-time").val(e)}},p.fn.cmtTimePicker.defaults={id:"cmt-el-timepicker",classes:"cmt-timepicker-basic",width:220,height:220}}(jQuery),cmt.api={},cmt.api.Root=function(t){this.apps=[],this.activeApps=[]},cmt.api.Root.prototype.mapApplication=function(t,e){null==this.apps[t]&&(this.apps[t]=e)},cmt.api.Root.prototype.getApplication=function(t,e){if(e=void 0!==e?e:{},null==this.apps[t])throw"Application with alias "+t+" is not registered.";if(null==this.activeApps[t]){var i=cmt.utils.object.strToObject(this.apps[t]);i.init(e),this.activeApps[t]=i}return this.activeApps[t]},cmt.api.Root.prototype.setApplication=function(t,e){null==this.activeApps[t]&&(this.activeApps[t]=e)},cmt.api.Root.prototype.registerApplication=function(t,e,i){if(null!=this.apps[t])throw"Application with alias "+t+" is already registered. Cannot register the same alias.";return this.mapApplication(t,e),this.getApplication(t,i)},cmt.api.root=new cmt.api.Root,cmt.api.Application=function(t){this.config={json:!1,basePath:null,csrfGet:!1,errorClass:".error",warnClass:".warn",messageClass:".message",spinnerClass:".spinner"},jQuery.extend(this.config,t);var e=cmt.api.Application.CONTROLLER_DEFAULT;this.controllers=[],this.controllers[e]="cmt.api.controllers.RequestController",this.activeControllers=[],this.services=[],this.activeServices=[]},cmt.api.Application.CONTROLLER_DEFAULT="default",cmt.api.Application.ACTION_DEFAULT="default",cmt.api.Application.STATIC_CONTROLLER="cmt-controller",cmt.api.Application.STATIC_ACTION="cmt-action",cmt.api.Application.STATIC_CUSTOM="cmt-custom",cmt.api.Application.STATIC_ID="id",cmt.api.Application.STATIC_KEEP="cmt-keep",cmt.api.Application.STATIC_ERROR="cmt-error",cmt.api.Application.STATIC_CLICK=".cmt-click",cmt.api.Application.STATIC_CHANGE=".cmt-change",cmt.api.Application.STATIC_KEY_UP=".cmt-key-up",cmt.api.Application.STATIC_BLUR=".cmt-blur",cmt.api.Application.prototype.init=function(t){jQuery.extend(this.config,t)},cmt.api.Application.prototype.mapController=function(t,e){null==this.controllers[t]&&(this.controllers[t]=e)},cmt.api.Application.prototype.getController=function(t,e,i){if(e=void 0!==e?e:{},i=void 0!==i&&i,null==this.controllers[t])throw"Controller with alias "+t+" is not registered.";var n;if(i)return(n=cmt.utils.object.strToObject(this.controllers[t])).init(e),n;null==this.activeControllers[t]&&((n=cmt.utils.object.strToObject(this.controllers[t])).init(e),this.activeControllers[t]=n);return this.activeControllers[t]},cmt.api.Application.prototype.setController=function(t,e){null==this.activeControllers[t]&&(this.activeControllers[t]=e)},cmt.api.Application.prototype.registerController=function(t,e,i){return i=void 0!==i?i:{},this.mapController(t,e),this.getController(t,i,!1)},cmt.api.Application.prototype.findController=function(t,e,i){try{return this.getController(t,e,i)}catch(t){if(console.log(t),console.log("Falling back to default controller."),void 0!==this.controllers[cmt.api.Application.CONTROLLER_DEFAULT])return this.findController(cmt.api.Application.CONTROLLER_DEFAULT)}},cmt.api.Application.prototype.mapService=function(t,e){null==this.services[t]&&(this.services[t]=e)},cmt.api.Application.prototype.getService=function(t,e,i){if(e=void 0!==e?e:{},null==this.services[t])throw"Service with alias "+t+" is not registered.";var n;if(i)return(n=cmt.utils.object.strToObject(this.services[t])).init(e),n;null==this.activeServices[t]&&((n=cmt.utils.object.strToObject(this.services[t])).init(e),this.activeServices[t]=n);return this.activeServices[t]},cmt.api.Application.prototype.setService=function(t,e){null==this.activeServices[t]&&(this.activeServices[t]=e)},cmt.api.Application.prototype.registerService=function(t,e,i){return this.mapService(t,e),this.getService(t,i)},cmt.api.controllers=cmt.api.controllers||{},cmt.api.services=cmt.api.services||{},cmt.api.utils=cmt.api.utils||{},cmt.api.controllers.BaseController=function(t){},cmt.api.controllers.BaseController.prototype.init=function(t){},cmt.api.controllers.ActionController=function(t){this.requestData=null},cmt.api.controllers.ActionController.inherits(cmt.api.controllers.BaseController),cmt.api.controllers.ActionController.prototype.init=function(t){console.log("Initialised default controller.")},cmt.api.controllers.ActionController.prototype.default=function(){return console.log("Executing default action."),!0},cmt.api.controllers.ActionController.prototype.defaultActionPre=function(){return console.log("Pre processing default action."),!0},cmt.api.controllers.ActionController.prototype.defaultActionSuccess=function(t){console.log("Processing success for default action.")},cmt.api.controllers.ActionController.prototype.defaultActionFailure=function(t){console.log("Processing failure for default action.")},cmt.api.controllers.GridController=function(t){this.endpoint=null,this.model=null,this.collection=null,this.rowTemplate=null,this.cardTemplate=null,this.pages=0,this.pageLimit=0,this.lastPage=0},cmt.api.controllers.GridController.inherits(cmt.api.controllers.BaseController),cmt.api.controllers.GridController.prototype.init=function(t){console.log("Initialised grid controller.")},cmt.api.controllers.GridController.prototype.allActionPre=function(){return console.log("Pre processing all action."),!0},cmt.api.controllers.GridController.prototype.allActionSuccess=function(t){console.log("Processing success for all action.")},cmt.api.controllers.GridController.prototype.allActionFailure=function(t){console.log("Processing failure for all action.")},cmt.api.controllers.GridController.prototype.createActionPre=function(){return console.log("Pre processing create action."),!0},cmt.api.controllers.GridController.prototype.createActionSuccess=function(t){console.log("Processing success for create action.")},cmt.api.controllers.GridController.prototype.createActionFailure=function(t){console.log("Processing failure for create action.")},cmt.api.controllers.GridController.prototype.updateActionPre=function(){return console.log("Pre processing update action."),!0},cmt.api.controllers.GridController.prototype.updateActionSuccess=function(t){console.log("Processing success for update action.")},cmt.api.controllers.GridController.prototype.updateActionFailure=function(t){console.log("Processing failure for update action.")},cmt.api.controllers.GridController.prototype.deleteActionPre=function(){return console.log("Pre processing delete action."),!0},cmt.api.controllers.GridController.prototype.deleteActionSuccess=function(t){console.log("Processing success for delete action.")},cmt.api.controllers.GridController.prototype.deleteActionFailure=function(t){console.log("Processing failure for delete action.")},cmt.api.controllers.RequestController=function(t){this.requestTrigger=null,this.requestForm=null,this.requestData=null,this.currentRequest=null,this.singleRequest=!1},cmt.api.controllers.RequestController.inherits(cmt.api.controllers.BaseController),cmt.api.controllers.RequestController.prototype.init=function(t){console.log("Initialised default controller.")},cmt.api.controllers.RequestController.prototype.defaultActionPre=function(t){return console.log("Pre processing default action."),!0},cmt.api.controllers.RequestController.prototype.defaultActionSuccess=function(t,e){console.log("Processing success for default action.")},cmt.api.controllers.RequestController.prototype.defaultActionFailure=function(t,e){console.log("Processing failure for default action.")},cmt.api.controllers.RestController=function(t){this.endpoint=null,this.model=null,this.collection=null,this.pages=0,this.pageLimit=0,this.lastPage=0},cmt.api.controllers.RestController.inherits(cmt.api.controllers.BaseController),cmt.api.controllers.RestController.prototype.init=function(t){console.log("Initialised rest controller.")},cmt.api.controllers.RestController.prototype.getActionPre=function(){return console.log("Pre processing get action."),!0},cmt.api.controllers.RestController.prototype.getActionSuccess=function(t){console.log("Processing success for get action.")},cmt.api.controllers.RestController.prototype.getActionFailure=function(t){console.log("Processing failure for get action.")},cmt.api.controllers.RestController.prototype.postActionPre=function(){return console.log("Pre processing post action."),!0},cmt.api.controllers.RestController.prototype.postActionSuccess=function(t){console.log("Processing success for post action.")},cmt.api.controllers.RestController.prototype.postActionFailure=function(t){console.log("Processing failure for post action.")},cmt.api.controllers.RestController.prototype.putActionPre=function(){return console.log("Pre processing put action."),!0},cmt.api.controllers.RestController.prototype.putActionSuccess=function(t){console.log("Processing success for put action.")},cmt.api.controllers.RestController.prototype.putActionFailure=function(t){console.log("Processing failure for put action.")},cmt.api.controllers.RestController.prototype.deleteActionPre=function(){return console.log("Pre processing delete action."),!0},cmt.api.controllers.RestController.prototype.deleteActionSuccess=function(t){console.log("Processing success for delete action.")},cmt.api.controllers.RestController.prototype.deleteActionFailure=function(t){console.log("Processing failure for delete action.")},cmt.api.services.BaseService=function(t){},cmt.api.services.BaseService.prototype.init=function(t){},cmt.api.utils.request={register:function(r,t){t.each(function(){var e=jQuery(this);e.is("form")&&e.submit(function(t){t.preventDefault(),cmt.api.utils.request.trigger(r,e,!0,null)});var t=e.find("[cmt-app] "+cmt.api.Application.STATIC_CLICK+", .cmt-request "+cmt.api.Application.STATIC_CLICK),i=e.find(cmt.api.Application.STATIC_CLICK).not(t);0<i.length&&i.click(function(t){t.preventDefault(),cmt.api.utils.request.trigger(r,e,!1,jQuery(this))});t=e.find("[cmt-app] "+cmt.api.Application.STATIC_CHANGE+", .cmt-request "+cmt.api.Application.STATIC_CHANGE);var n=e.find(cmt.api.Application.STATIC_CHANGE).not(t);0<n.length&&n.change(function(){cmt.api.utils.request.trigger(r,e,!1,jQuery(this))});t=e.find("[cmt-app] "+cmt.api.Application.STATIC_KEY_UP+", .cmt-request "+cmt.api.Application.STATIC_KEY_UP);var o=e.find(cmt.api.Application.STATIC_KEY_UP).not(t);0<o.length&&o.keyup(function(){cmt.api.utils.request.trigger(r,e,!1,jQuery(this))});t=e.find("[cmt-app] "+cmt.api.Application.STATIC_BLUR+", .cmt-request "+cmt.api.Application.STATIC_BLUR);var s=e.find(cmt.api.Application.STATIC_BLUR).not(t);0<s.length&&s.blur(function(){cmt.api.utils.request.trigger(r,e,!1,jQuery(this))})})},registerTargetApp:function(t,e,i){void 0===i||i?cmt.api.utils.request.register(cmt.api.root.getApplication(t),e.find("[cmt-app="+t+"]")):cmt.api.utils.request.register(cmt.api.root.getApplication(t),e)},trigger:function(t,e,i,n){var o=e.attr(cmt.api.Application.STATIC_CONTROLLER),s=e.attr(cmt.api.Application.STATIC_ACTION);null==o&&(o=cmt.api.Application.CONTROLLER_DEFAULT),null==s&&(s=cmt.api.Application.ACTION_DEFAULT);var r=t.findController(o);r.requestTrigger=n,i?t.config.json?cmt.api.utils.request.handleJsonForm(t,e,r,s):cmt.api.utils.request.handleDataForm(t,e,r,s):cmt.api.utils.request.handleRequest(t,e,r,s)},handleJsonForm:function(t,e,i,n){if(cmt.api.utils.request.preProcessRequest(t,e,i,n)){var o=i.requestData,s=e.attr("method");if(e.is("["+cmt.api.Application.STATIC_CUSTOM+"]"))o=cmt.utils.data.appendCsrf(o);else{var r=null!=i.requestForm?i.requestForm:e;o=null==s||"get"!=s.toLowerCase()||t.config.csrfGet?cmt.utils.data.formToJson(r):cmt.utils.data.formToJson(r,!1)}cmt.api.utils.request.processRequest(t,e,i,n,o)}return!1},handleDataForm:function(t,e,i,n){if(cmt.api.utils.request.preProcessRequest(t,e,i,n)){var o=i.requestData,s=e.attr("method");if(e.is("["+cmt.api.Application.STATIC_CUSTOM+"]"))o=cmt.utils.data.appendCsrf(o);else{var r=null!=i.requestForm?i.requestForm:e;o=null==s||"get"!=s.toLowerCase()||t.config.csrfGet?cmt.utils.data.serialiseForm(r):cmt.utils.data.serialiseForm(r,!1)}cmt.api.utils.request.processRequest(t,e,i,n,o)}return!1},handleRequest:function(t,e,i,n){if(cmt.api.utils.request.preProcessRequest(t,e,i,n)){var o=i.requestData,s=e.attr("method");if(e.is("["+cmt.api.Application.STATIC_CUSTOM+"]"))o=cmt.utils.data.appendCsrf(o);else{var r=null!=i.requestForm?i.requestForm:e;o=null==s||"get"!=s.toLowerCase()||t.config.csrfGet?cmt.utils.data.serialiseElement(r):cmt.utils.data.serialiseElement(r,!1)}cmt.api.utils.request.processRequest(t,e,i,n,o)}return!1},preProcessRequest:function(t,e,i,n){var o=n+"ActionPre",s=null!=i.requestForm?i.requestForm:e;return s.find(t.config.messageClass).css("display","none"),s.find(t.config.warnClass).css("display","none"),s.find(t.config.errorClass).css("display","none"),!(void 0!==i[o]&&!i[o](e))&&(e.find(t.config.spinnerClass).css("display","inline-block"),!0)},processRequest:function(n,o,s,r,t){var e="post",i=o.attr("action");if(o.attr("method")&&(e=o.attr("method")),null!=n.config.basePath&&(i=n.config.basePath+i),s.singleRequest&&null!=s.currentRequest&&(s.currentRequest=s.currentRequest.abort(),s.currentRequest=null),n.config.json){var l=jQuery.ajax({type:e,url:i,data:t,dataType:"JSON",contentType:"application/json;charset=UTF-8",success:function(t,e,i){cmt.api.utils.request.processResponse(n,o,s,r,t)}});s.singleRequest&&(s.currentRequest=l)}else{l=jQuery.ajax({type:e,url:i,data:t,dataType:"JSON",success:function(t,e,i){cmt.api.utils.request.processResponse(n,o,s,r,t)}});s.singleRequest&&(s.currentRequest=l)}},processResponse:function(t,e,i,n,o){var s=o.result,r=o.errors,l=null!=i.requestForm?i.requestForm:e;if(1==s)e.is("["+cmt.api.Application.STATIC_KEEP+"]")||(l.find("input[type=text]").not(l.find("input["+cmt.api.Application.STATIC_KEEP+"=1]")).val(""),l.find("input[type=password]").val(""),l.find("textarea").not(l.find("textarea["+cmt.api.Application.STATIC_KEEP+"=1]")).val("")),l.find(t.config.errorClass).css("display","none");else if(0==s)for(var a in r){var c=a,d=r[a],p=l.find(" span["+cmt.api.Application.STATIC_ERROR+'="'+c+'"]');p.html(d),p.css("display","inline-block")}cmt.api.utils.request.postProcessResponse(t,e,i,n,o)},postProcessResponse:function(t,e,i,n,o){var s=o.result,r=null,l=o.message,a=n+"ActionSuccess",c=n+"ActionFailure";1==s?r=e.find(t.config.messageClass+".success"):0==s&&(r=e.find(t.config.messageClass+".error")),r.html(l),r.css("display","inline-block"),e.find(t.config.spinnerClass).hide(),1==s&&void 0!==i[a]?i[a](e,o):0==s&&void 0!==i[c]&&i[c](e,o)},triggerDirect:function(t,e,i,n,o){null==e&&(e=cmt.api.Application.CONTROLLER_DEFAULT),null==i&&(i=cmt.api.Application.ACTION_DEFAULT),null==o&&(o="post");var s=t.findController(e);cmt.api.utils.request.handleDirectRequest(t,s,i,n,o)},handleDirectRequest:function(t,e,i,n,o){if(cmt.api.utils.request.preProcessDirectRequest(e,i)){var s=e.requestData;"post"===o&&(s=cmt.utils.data.appendCsrf(s)),cmt.api.utils.request.processDirectRequest(t,e,i,n,o,s)}return!1},preProcessDirectRequest:function(t,e){var i=e+"ActionPre";return!(void 0!==t[i]&&!t[i]())},processDirectRequest:function(n,o,s,t,e,i){if(null!=n.config.basePath&&(t=n.config.basePath+t),o.singleRequest&&null!=o.currentRequest&&(o.currentRequest=o.currentRequest.abort(),o.currentRequest=null),n.config.json){var r=jQuery.ajax({type:e,url:t,data:i,dataType:"JSON",contentType:"application/json;charset=UTF-8",success:function(t,e,i){cmt.api.utils.request.processDirectResponse(n,o,s,t)}});o.singleRequest&&(o.currentRequest=r)}else{r=jQuery.ajax({type:e,url:t,data:i,dataType:"JSON",success:function(t,e,i){cmt.api.utils.request.postProcessDirectResponse(n,o,s,t)}});o.singleRequest&&(o.currentRequest=r)}},postProcessDirectResponse:function(t,e,i,n){var o=n.result,s=i+"ActionSuccess",r=i+"ActionFailure";1==o&&void 0!==e[s]?e[s](n):0==o&&void 0!==e[r]&&e[r](n)},registerServiceTriggers:function(a){a.each(function(){var e=jQuery(this),i=a.attr("data-app"),n=a.attr("data-service"),o=e.attr("data-handler");e.is("form")&&e.submit(function(t){t.preventDefault(),cmt.api.root.getApplication(i).getService(n)[o](e)});var t=e.find(cmt.api.Application.STATIC_CLICK);0<t.length&&t.click(function(t){t.preventDefault(),cmt.api.root.getApplication(i).getService(n)[o](e)});var s=e.find(cmt.api.Application.STATIC_CHANGE);0<s.length&&s.change(function(){cmt.api.root.getApplication(i).getService(n)[o](e)});var r=e.find(cmt.api.Application.STATIC_KEY_UP);0<r.length&&r.keyup(function(){cmt.api.root.getApplication(i).getService(n)[o](e)});var l=e.find(cmt.api.Application.STATIC_BLUR);0<l.length&&l.blur(function(){cmt.api.root.getApplication(i).getService(n)[o](e)})})}};